<script setup>
// æŠŠ Logo å’Œ Avatar çš„å°å…¥ä¹Ÿç§»åˆ°é€™è£¡
import logoUrl from '../assets/logo.png';
import avataUrl from '../assets/avata.png';
</script>

<template>
    <div class="page-wrapper">
        <!-- Header: åœ¨ Flex å®¹å™¨ä¸­ï¼Œå®ƒæ˜¯ä¸€å€‹ç¨ç«‹çš„å€å¡Š -->
        <header class="bg-warning p-3 d-flex justify-content-between align-items-center shadow-sm flex-shrink-0">
            <div class="d-flex align-items-center">
                <img :src="logoUrl" alt="Logo" style="height: 40px; margin-right: 12px;">
                <h1 class="h5 m-0">å•†å®¶ç®¡ç†ä¸­å¿ƒ</h1>
            </div>
            <div>
                <span>Kinan, æ‚¨å¥½ï¼</span>
                <img :src="avataUrl" alt="Avata" style="height: 40px; margin-right: 12px;">
            </div>
        </header>

    <div class="main-container">
        <!-- Sidebar: ç¾åœ¨æ˜¯ main-container çš„ä¸€å€‹ flex item -->
        <nav class="sidebar bg-light p-3">
            <!-- å´é‚Šæ¬„é€£çµä½¿ç”¨ router-link -->
            <div class="sidebar-sticky">
                <h6 class="sidebar-heading px-3 mt-4 mb-1 text-muted">ç®¡ç†ä½ çš„å•†å®¶è³‡è¨Š</h6>
                    <ul class="nav flex-column">
                    <!-- ä½¿ç”¨ <router-link> ä¸¦é€é "to" å±¬æ€§æŒ‡å®šç›®æ¨™è·¯å¾‘ -->
                        <router-link to="#" custom v-slot="{ href, navigate, isActive }">
                            <li class="nav-item">
                                <a :href="href" @click="navigate" class="nav-link" :class="{ 'active-link': isActive }">ğŸ‘¨â€ğŸ³å•†å®¶è³‡æ–™</a>
                            </li>
                        </router-link>
                        <router-link to="/menu" custom v-slot="{ href, navigate, isActive }">
                            <li class="nav-item">
                                <a :href="href" @click="navigate" class="nav-link" :class="{ 'active-link': isActive }">ğŸ³èœå–®ç®¡ç†</a>
                            </li>
                        </router-link> 
                        <router-link to="#" custom v-slot="{ href, navigate, isActive }">
                            <li class="nav-item">
                                <a :href="href" @click="navigate" class="nav-link" :class="{ 'active-link': isActive }">ğŸ½ï¸åº—é‹ªç®¡ç†</a>
                            </li>
                        </router-link>
                    </ul>
                    <h6 class="sidebar-heading px-3 mt-4 mb-1 text-muted">ä¸»è¦åŠŸèƒ½è¨­å®š</h6>
                    <ul class="nav flex-column mb-2">
                        <router-link to="/orders" custom v-slot="{ href, navigate, isActive }">
                            <li class="nav-item">
                                <a :href="href" @click="navigate" class="nav-link" :class="{ 'active-link': isActive }">ğŸ“ƒè¨‚å–®ç®¡ç†</a>
                            </li>
                        </router-link>
                        <router-link to="#" custom v-slot="{ href, navigate, isActive }">
                            <li class="nav-item">
                                <a :href="href" @click="navigate" class="nav-link" :class="{ 'active-link': isActive }">ğŸª‘è¨‚ä½ç®¡ç†</a>
                            </li>
                        </router-link>                        
                        <router-link to="#" custom v-slot="{ href, navigate, isActive }">
                            <li class="nav-item">
                                <a :href="href" @click="navigate" class="nav-link" :class="{ 'active-link': isActive }">ğŸ•’ç‡Ÿæ¥­æ™‚é–“</a>
                            </li>
                        </router-link>
                        <router-link to="#" custom v-slot="{ href, navigate, isActive }">
                            <li class="nav-item">
                                <a :href="href" @click="navigate" class="nav-link" :class="{ 'active-link': isActive }">ğŸ“°è©•è«–å›è¦†</a>
                            </li>
                        </router-link>
                        <!-- <li class="nav-item"><a class="nav-link" href="#">æ¬„ä½åç¨±</a></li> æ”¹routerå‰çš„æ ¼å¼å¯«æ³• -->
                        <!-- <router-link to="#" class="nav-link">æ¬„ä½åç¨±</router-link> æ”¹custom v-slotå‰çš„ç°¡åŒ–æ ¼å¼å¯«æ³• -->
                    </ul>
                </div>
        </nav>

        <!-- ä¸»å…§å®¹å€åŸŸï¼šé€™æ˜¯ä¸€å€‹ "æ’åº§"ï¼Œç”¨ä¾†é¡¯ç¤ºå­è·¯ç”±é é¢ -->
            <main class="main-content p-4">
            <router-view />
        </main>
    </div>
    
        <!-- Footer -->
        <footer class="bg-warning text-white text-center p-3 flex-shrink-0">
            Footer
        </footer>
    </div>
</template>

<style scoped>
/* æŠŠ MenuManagement.vue ä¸­çš„æ‰€æœ‰ä½ˆå±€ CSS å‰ªä¸‹è²¼åˆ°é€™è£¡ */

.page-wrapper {
    display: flex;
    flex-direction: column;
    /* è®“ header, main-container, footer å‚ç›´æ’åˆ— */
    height: 100vh;
}

.main-container {
    display: flex;
    /* è®“ sidebar å’Œ main-content æ°´å¹³æ’åˆ— */
    flex-grow: 1;
    /* ä½”æ»¿ page-wrapper ä¸­é™¤äº† header å’Œ footer çš„æ‰€æœ‰ç©ºé–“ */
    overflow: hidden;
}

.sidebar {
    flex-shrink: 0;
    width: 250px;
    overflow-y: auto;
    border-right: 1px solid #dee2e6;
    /* æ¨¡ä»¿åŸå§‹è¨­è¨ˆçš„é™°å½±/é‚Šæ¡† */
}

.main-content {
    flex-grow: 1;
    overflow-y: auto;
}

.nav-link.active {
    font-weight: bold;
    color: #0d6efd;
}

/* ç¢ºä¿ header å’Œ footer ä¸æœƒè¢«å£“ç¸® */
header,
footer {
    flex-shrink: 0;
}
</style>