<template>
  <div>
    <button @click="show = true">é¸æ“‡å„ªæƒ åˆ¸</button>
    <p>å·²é¸æ“‡: {{ selected?.title || 'å°šæœªé¸æ“‡' }}</p>

    <CouponSelectorModal
      v-model:show="show"
      :promotions="promotionList"
      :cartAmount="200"
      @selected="handleSelected"
    />
  </div>
</template>

<script setup>
import { ref } from 'vue'
import CouponSelectorModal from '../components/CouponSelectorModal.vue'

const show = ref(false)
const selected = ref(null)

const promotionList = ref([
  { id: 1, title: 'ğŸ æ»¿ 500 æŠ˜ 50', discount_value: 50, min_spend: 500, start_time: '2025-06-01', end_time: '2025-06-30', description: 'å„ªæƒ åˆ¸æè¿°' },
  { id: 2, title: 'é€±å¹´æ…¶ï¼å…¨ç«™ 95 æŠ˜ ğŸ‰', discount_value: 5, min_spend: 0, start_time: '2025-06-01', end_time: '2025-06-30', description: 'é©ç”¨æ‰€æœ‰æ´»å‹•' },
  { id: 3, title: 'ğŸ¹ å¤æ—¥è§£æ¸´å›‰ï¼ğŸ”¥', discount_value: 30, min_spend: 300, start_time: '2025-06-01', end_time: '2025-06-30', description: 'å¤æ—¥é™å®šå„ªæƒ ' }
])

const handleSelected = (promotion) => {
  selected.value = promotion
  console.log('å·²é¸æ“‡ï¼š', promotion)
}
</script>
