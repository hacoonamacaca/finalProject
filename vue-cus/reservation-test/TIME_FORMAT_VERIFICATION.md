# æ™‚é–“æ ¼å¼é©—è­‰

## ğŸ”§ å•é¡Œè§£æ±ºæ–¹æ¡ˆ

### å¾Œç«¯æ™‚é–“æ ¼å¼

å¾Œç«¯ä½¿ç”¨ Jackson åºåˆ—åŒ– `LocalTime` å°è±¡ï¼Œè¿”å›æ ¼å¼ç‚ºï¼š

```json
{
  "startTime": "14:30:00",
  "endTime": "22:00:00"
}
```

### å‰ç«¯éœ€è¦çš„æ ¼å¼

å‰ç«¯éœ€è¦ `HH:mm` æ ¼å¼ï¼š

```javascript
"14:30";
"22:00";
```

## ğŸ“‹ ä¿®æ”¹å…§å®¹

### 1. æ™‚é–“æ ¼å¼è½‰æ›å‡½æ•¸

```javascript
export function formatTimeToString(time) {
  if (!time) return "";

  // å¦‚æœå·²ç¶“æ˜¯å­—ç¬¦ä¸²æ ¼å¼ï¼Œè™•ç† ISO æ ¼å¼ (HH:mm:ss)
  if (typeof time === "string") {
    // å¦‚æœæ˜¯ ISO æ ¼å¼ (14:30:00)ï¼Œåªå–å‰5å€‹å­—ç¬¦ (14:30)
    if (time.includes(":") && time.length >= 5) {
      return time.substring(0, 5);
    }
    return time;
  }

  // å¦‚æœæ˜¯ LocalTime å°è±¡ï¼ˆåŒ…å« hour, minute å±¬æ€§ï¼‰
  if (time && typeof time === "object") {
    try {
      const hour = String(time.hour || 0).padStart(2, "0");
      const minute = String(time.minute || 0).padStart(2, "0");
      return `${hour}:${minute}`;
    } catch (error) {
      console.error("æ ¼å¼åŒ–æ™‚é–“æ™‚ç™¼ç”ŸéŒ¯èª¤:", error, time);
      return "";
    }
  }

  console.error("ç„¡æ•ˆçš„æ™‚é–“æ ¼å¼:", time);
  return "";
}
```

### 2. æ‡‰ç”¨çš„åœ°æ–¹

- `groupTimeSlotsByPeriod()` - æ™‚é–“æ®µåˆ†çµ„
- `disabledTimeSlots` è¨ˆç®—å±¬æ€§ - å·²é è¨‚æ™‚é–“æ®µ
- `isTimeSlotBooked()` - æ™‚é–“æ®µæª¢æŸ¥

## ğŸ§ª æ¸¬è©¦æ¡ˆä¾‹

### æ¸¬è©¦æ¡ˆä¾‹ 1: ISO æ ¼å¼å­—ç¬¦ä¸²

```javascript
// è¼¸å…¥
formatTimeToString("14:30:00");
// æœŸæœ›è¼¸å‡º
("14:30");
```

### æ¸¬è©¦æ¡ˆä¾‹ 2: å·²æ ¼å¼åŒ–å­—ç¬¦ä¸²

```javascript
// è¼¸å…¥
formatTimeToString("14:30");
// æœŸæœ›è¼¸å‡º
("14:30");
```

### æ¸¬è©¦æ¡ˆä¾‹ 3: LocalTime å°è±¡

```javascript
// è¼¸å…¥
formatTimeToString({ hour: 14, minute: 30 });
// æœŸæœ›è¼¸å‡º
("14:30");
```

### æ¸¬è©¦æ¡ˆä¾‹ 4: ç„¡æ•ˆè¼¸å…¥

```javascript
// è¼¸å…¥
formatTimeToString(null);
// æœŸæœ›è¼¸å‡º
("");
```

## ğŸ” é©—è­‰æ­¥é©Ÿ

### 1. æª¢æŸ¥ API éŸ¿æ‡‰

```bash
# ç²å–æ™‚é–“æ®µæ•¸æ“š
curl "http://localhost:8080/api/booking/all-slots/1?date=2024-01-15"
```

é æœŸéŸ¿æ‡‰ï¼š

```json
[
  {
    "id": 1,
    "storeId": 1,
    "day": "2024-01-15",
    "startTime": "11:00:00",
    "endTime": "12:00:00",
    "isActive": true
  }
]
```

### 2. æª¢æŸ¥å‰ç«¯é¡¯ç¤º

åœ¨ç€è¦½å™¨æ§åˆ¶å°æ¸¬è©¦ï¼š

```javascript
// æ¸¬è©¦æ™‚é–“æ ¼å¼è½‰æ›
formatTimeToString("14:30:00"); // æ‡‰è©²è¿”å› "14:30"
formatTimeToString("22:00:00"); // æ‡‰è©²è¿”å› "22:00"
```

### 3. æª¢æŸ¥æ™‚é–“æ®µåˆ†çµ„

ç¢ºèªæ™‚é–“æ®µæ­£ç¢ºåˆ†çµ„ç‚ºï¼š

- åˆé¤æ™‚æ®µï¼š11:00, 12:00, 13:00
- ä¸‹åˆæ™‚æ®µï¼š15:00, 16:00
- æ™šé¤æ™‚æ®µï¼š17:00, 18:00, 19:00, 20:00

## âš ï¸ æ³¨æ„äº‹é …

1. **å‘å¾Œå…¼å®¹æ€§**: å‡½æ•¸åŒæ™‚æ”¯æŒ ISO æ ¼å¼å’Œå·²æ ¼å¼åŒ–å­—ç¬¦ä¸²
2. **éŒ¯èª¤è™•ç†**: ç„¡æ•ˆè¼¸å…¥æœƒè¿”å›ç©ºå­—ç¬¦ä¸²
3. **æ€§èƒ½è€ƒæ…®**: å­—ç¬¦ä¸²æˆªå–æ“ä½œè¼•é‡ç´š

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

1. **æ™‚é–“é¡¯ç¤ºç‚ºå®Œæ•´æ ¼å¼**: ç¢ºèªä½¿ç”¨äº† `formatTimeToString` å‡½æ•¸
2. **æ™‚é–“æ®µä¸æ­£ç¢º**: æª¢æŸ¥å¾Œç«¯è¿”å›çš„æ™‚é–“æ ¼å¼
3. **åˆ†çµ„éŒ¯èª¤**: ç¢ºèªæ™‚é–“æ¯”è¼ƒé‚è¼¯æ­£ç¢º

### èª¿è©¦æŠ€å·§

1. åœ¨ç€è¦½å™¨æ§åˆ¶å°æª¢æŸ¥ API éŸ¿æ‡‰
2. ä½¿ç”¨ `console.log` æª¢æŸ¥è½‰æ›çµæœ
3. ç¢ºèªæ‰€æœ‰ç›¸é—œå‡½æ•¸éƒ½ä½¿ç”¨äº†æ–°çš„æ ¼å¼è½‰æ›

## ğŸ“Š é æœŸçµæœ

### ä¿®å¾©å‰

```javascript
// å¾Œç«¯è¿”å›
{
  startTime: "14:30:00";
}
// å‰ç«¯é¡¯ç¤º
("14:30:00"); // æˆ– [object Object]
```

### ä¿®å¾©å¾Œ

```javascript
// å¾Œç«¯è¿”å›
{
  startTime: "14:30:00";
}
// å‰ç«¯é¡¯ç¤º
("14:30");
```
